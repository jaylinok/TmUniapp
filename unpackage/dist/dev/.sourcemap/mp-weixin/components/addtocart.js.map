{"version":3,"sources":[null,"webpack:////Users/apple/Documents/HBuilderProjects/TmUniapp/components/addtocart.vue?f291","webpack:////Users/apple/Documents/HBuilderProjects/TmUniapp/components/addtocart.vue?b904","webpack:////Users/apple/Documents/HBuilderProjects/TmUniapp/components/addtocart.vue?7dd7","uni-app:///components/addtocart.vue","webpack:////Users/apple/Documents/HBuilderProjects/TmUniapp/components/addtocart.vue?827d","webpack:////Users/apple/Documents/HBuilderProjects/TmUniapp/components/addtocart.vue?25d8"],"names":[],"mappings":"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","file":"components/addtocart.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./addtocart.vue?vue&type=template&id=2c68515e&scoped=true&\"\nvar renderjs\nimport script from \"./addtocart.vue?vue&type=script&lang=js&\"\nexport * from \"./addtocart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addtocart.vue?vue&type=style&index=0&id=2c68515e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c68515e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/addtocart.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addtocart.vue?vue&type=template&id=2c68515e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.many === 1 ? _vm.forbid == false : _vm.forbid == true && _vm.reDuce()\n    }\n\n    _vm.e1 = function($event) {\n      _vm.skumen.ban && _vm.modifySku()\n    }\n\n    _vm.e2 = function($event) {\n      _vm.skumen.ban && _vm.detErmine()\n    }\n\n    _vm.e3 = function($event) {\n      _vm.skumen.ban && _vm.purChase()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addtocart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addtocart.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view v-if=\"couponif\">\r\n\t\t<view class=\"Coupon-yin anim\" @click=\"hideCou()\">></view>\r\n\t\t<view class=\"Coupon-view coup-anim padd\">\r\n\t\t\t<!-- 商品图片 -->\r\n\t\t\t<view class=\"commodity-view\">\r\n\t\t\t\t<view class=\"commodity-left-img\">\r\n\t\t\t\t\t<image :src=\"attribute.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"commodity-zh\">\r\n\t\t\t\t\t<view>¥{{attribute.price}}</view>\r\n\t\t\t\t\t<view>库存{{attribute.totalstock}}件</view>\r\n\t\t\t\t\t<view class=\"choice\">\r\n\t\t\t\t\t\t<text>{{choice}}:</text>\r\n\t\t\t\t\t\t<text>{{skumen.color}}</text>\r\n\t\t\t\t\t\t<text>{{skumen.size}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"commodity-right-img\" @click=\"hideCou()\">\r\n\t\t\t\t\t<image src=\"/static/details/guanbi.svg\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 主要颜色 -->\r\n\t\t\t<view class=\"sku-view\">\r\n\t\t\t\t<text class=\"sku-title\">主要颜色</text>\r\n\t\t\t\t<view class=\"sku-mian\">\r\n\t\t\t\t\t<block v-for=\"(item,index) in skudata[1]\" :key=\"index\">\r\n\t\t\t\t\t\t<view @click=\"colorFun(item.color,index)\" :class=\"{active:index == colornum}\">\r\n\t\t\t\t\t\t\t<image :src=\"item.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<text>{{item.color}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 尺寸 -->\r\n\t\t\t<view class=\"sku-view\">\r\n\t\t\t\t<text class=\"sku-title\">尺寸</text>\r\n\t\t\t\t<view class=\"sku-mian sku-two\">\r\n\t\t\t\t\t<block v-for=\"(item,index) in skudata[0]\" :key=\"index\">\r\n\t\t\t\t\t\t<view @click=\"sizeFun(item,index)\" :class=\"{active:index == sizenum}\">{{item}}</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 购买数量 -->\r\n\t\t\t<view class=\"sku-view sku-height\">\r\n\t\t\t\t<view class=\"sku-title numes\">购买数量</view>\r\n\t\t\t\t<view class=\"sku-mums-gight\">\r\n\t\t\t\t\t<view @click=\"many === 1 ? forbid==false : forbid==true && reDuce()\">-</view>\r\n\t\t\t\t\t<view>{{many}}</view>\r\n\t\t\t\t\t<view @click=\"pLus()\">+</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 确定 -->\r\n\t\t<view class=\"determine coup-anim\" v-if=\"mean == '001' \" @click=\"skumen.ban && modifySku()\">确定</view>\r\n\t\t<view class=\"determine coup-anim\" v-if=\"mean == '002'\" @click=\"skumen.ban && detErmine()\">确定</view>\r\n\t\t<view class=\"determine coup-anim\" v-if=\"mean == '003'\" @click=\"skumen.ban && purChase()\">确定</view>\r\n\t\t<!-- 登录弹窗 -->\r\n\t\t<showmodal ref=\"show\"></showmodal>\r\n\t</view>\r\n</template>\r\n\r\n<script>\n\tvar {log} = console\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tskudata: Array\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//默认显示||隐藏\r\n\t\t\t\tcouponif: false,\r\n\t\t\t\t// 001:购物车修改sku；002：加入购物车，003：直接购买\r\n\t\t\t\tmean: '002',\r\n\t\t\t\t//商品id\r\n\t\t\t\tid: '',\r\n\t\t\t\t//商品展示的sku\r\n\t\t\t\tattribute: {},\r\n\t\t\t\t//标题\r\n\t\t\t\ttitle: '',\r\n\t\t\t\t//选了颜色\r\n\t\t\t\tcolornum: -1,\r\n\t\t\t\tcolorvalue: '',\r\n\t\t\t\t// 选了尺寸\r\n\t\t\t\tsizenum: -1,\r\n\t\t\t\tsizevalue: '',\r\n\t\t\t\t// 数量等于1.禁止按钮点击\r\n\t\t\t\tforbid: true,\r\n\t\t\t\t// 购买数量：默认1\r\n\t\t\t\tmany: 1,\r\n\t\t\t\t// 购物车来的商品数量\r\n\t\t\t\tmomany: '',\r\n\t\t\t\t// 购物车来的购物车_id\r\n\t\t\t\t_id: '',\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 选择sku的改变\r\n\t\t\tchoice() {\r\n\t\t\t\tif (this.colorvalue == '' || this.sizevalue == '') {\r\n\t\t\t\t\treturn '请选择'\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn '已选择'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 颜色&&尺寸选择\r\n\t\t\tskumen() {\r\n\t\t\t\tif (this.sizevalue != '' && this.colorvalue != '') {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcolor: this.colorvalue,\r\n\t\t\t\t\t\tsize: this.sizevalue,\r\n\t\t\t\t\t\tban: true\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.sizevalue == '' && this.colorvalue == '') {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcolor: '主要颜色',\r\n\t\t\t\t\t\tsize: '尺寸',\r\n\t\t\t\t\t\tban: false\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.sizevalue == '' && this.colorvalue != '') {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcolor: '',\r\n\t\t\t\t\t\tsize: '尺寸',\r\n\t\t\t\t\t\tban: false\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.colorvalue == '' && this.sizevalue != '') {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcolor: '主要颜色',\r\n\t\t\t\t\t\tsize: '',\r\n\t\t\t\t\t\tban: false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 被其他组件调用显示sku组件\r\n\t\t\tshowCou(mean, obj = {}) {\r\n\t\t\t\tthis.mean = mean\r\n\t\t\t\tif (mean == '001') {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tsku,\r\n\t\t\t\t\t\tsize,\r\n\t\t\t\t\t\tcolor,\r\n\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\tmany\r\n\t\t\t\t\t} = obj\r\n\t\t\t\t\tthis._id = _id\r\n\t\t\t\t\tthis.momany = many\r\n\t\t\t\t\tthis.sizenum = sku[0].findIndex(item => item == size)\r\n\t\t\t\t\tthis.colornum = sku[1].findIndex(item => item.color == color)\r\n\t\t\t\t\tthis.colorvalue = color\r\n\t\t\t\t\tthis.sizevalue = size\r\n\t\t\t\t}\r\n\t\t\t\tthis.couponif = true\r\n\t\t\t},\r\n\t\t\thideCou() {\r\n\t\t\t\tthis.couponif = false\r\n\t\t\t},\r\n\t\t\t// 点击获取颜色\r\n\t\t\tcolorFun(color, index) {\r\n\t\t\t\tthis.colornum = index\r\n\t\t\t\tthis.colorvalue = color\r\n\t\t\t},\r\n\t\t\t// 点击获取尺寸\r\n\t\t\tsizeFun(size, index) {\r\n\t\t\t\tthis.sizenum = index\r\n\t\t\t\tthis.sizevalue = size\r\n\t\t\t},\r\n\t\t\t// 加入购物车\r\n\t\t\tasync detErmine() {\r\n\t\t\t\tlog('加入购物车')\r\n\t\t\t\tlet {\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tprice\r\n\t\t\t\t} = this.attribute\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tid: this.id,\r\n\t\t\t\t\tsize: this.sizevalue,\r\n\t\t\t\t\tcolor: this.colorvalue,\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tprice,\r\n\t\t\t\t\ttitle: this.title,\r\n\t\t\t\t\tmany: this.many\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet atcartdata = await new this.Request(this.Urls.m().atcart, data).modepost()\r\n\t\t\t\t\tif (atcartdata.msg.errcode) {\r\n\t\t\t\t\t\t// 需要登录\r\n\t\t\t\t\t\tthis.$refs.show.showing('coll')\r\n\t\t\t\t\t} else if (atcartdata.msg == 'SUCCESS') {\r\n\t\t\t\t\t\tthis.hideCou()\r\n\t\t\t\t\t\tnew this.$Toast('加入购物车成功').showtoast()\r\n\t\t\t\t\t\t// 获取购物车的件数\r\n\t\t\t\t\t\tlet mycart = await new this.Request(this.Urls.m().mycart).modeget()\r\n\t\t\t\t\t\t// vuex\r\n\t\t\t\t\t\tthis.$store.commit('mutacart', mycart.data.length)\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tlog(err)\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t// 减数量\r\n\t\t\treDuce() {\r\n\t\t\t\tthis.many--\r\n\t\t\t},\r\n\t\t\t// 加数量\r\n\t\t\tpLus() {\r\n\t\t\t\tthis.many++\r\n\t\t\t},\r\n\t\t\t// 购物车修改sku\r\n\t\t\tasync modifySku() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tprice\r\n\t\t\t\t} = this.attribute\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tid: this._id,\r\n\t\t\t\t\tskuid: this.id,\r\n\t\t\t\t\tsize: this.sizevalue,\r\n\t\t\t\t\tcolor: this.colorvalue,\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tprice,\r\n\t\t\t\t\tmany: this.momany\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet modifydata = await new this.Request(this.Urls.m().skubase, data).modepost()\r\n\t\t\t\t\tlog(modifydata)\r\n\t\t\t\t\tif (modifydata.msg == 'SUCCESS') {\r\n\t\t\t\t\t\tthis.hideCou()\r\n\t\t\t\t\t\t// 修改成功刷新购物车接口\r\n\t\t\t\t\t\tthis.$bus.$emit('mycart', {\r\n\t\t\t\t\t\t\tcart: modifydata.msg\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 调用接口请求sku\r\n\t\t\tasync skuRequest(obj) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet sku = await new this.Request(this.Urls.m().queryskuurl, obj).modepost()\r\n\t\t\t\t\tthis.attribute = sku.data[0]\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 加入购物车\r\n\t\t\tasync detErmine() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tprice\r\n\t\t\t\t} = this.attribute\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tid: this.id,\r\n\t\t\t\t\tsize: this.sizevalue,\r\n\t\t\t\t\tcolor: this.colorvalue,\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tprice,\r\n\t\t\t\t\ttitle: this.title,\r\n\t\t\t\t\tmany: this.many\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet atcartdata = await new this.Request(this.Urls.m().atcart, data).modepost()\r\n\t\t\t\t\tif (atcartdata.msg.errcode) {\r\n\t\t\t\t\t\tthis.$refs.show.showing('coll')\r\n\t\t\t\t\t} else if (atcartdata.msg == 'SUCCESS') {\r\n\t\t\t\t\t\tnew this.$Toast('加入购物车成功').showtoast()\r\n\t\t\t\t\t\tthis.hideCou()\r\n\t\t\t\t\t\tlet cartdata = await new this.Request(this.Urls.m().mycart).modeget()\r\n\t\t\t\t\t\tthis.$store.commit('mutacart', cartdata.data.length)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlog(atcartdata)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 直接购买\r\n\t\t\tasync purChase() {\r\n\t\t\t\tconsole.log('直接购买')\r\n\t\t\t\tlet {\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tprice\r\n\t\t\t\t} = this.attribute\r\n\t\t\t\tlet data = [{\r\n\t\t\t\t\tid: this.id,\r\n\t\t\t\t\tsize: this.sizevalue,\r\n\t\t\t\t\tcolor: this.colorvalue,\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tprice,\r\n\t\t\t\t\ttitle: this.title,\r\n\t\t\t\t\tmany: this.many,\r\n\t\t\t\t\ttotal_price: this.many * price\r\n\t\t\t\t}]\r\n\t\t\t\t// 校验登录状态\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet user = await new this.Request(this.Urls.m().tokening).modeget()\r\n\t\t\t\t\tif (user.msg.errcode) {\r\n\t\t\t\t\t\tthis.$refs.show.showing('coll')\r\n\t\t\t\t\t} else if (user.msg == 'SUCCESS') {\r\n\t\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\t\tlet cartdata = JSON.stringify(data)\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '../paymentpage/payment?cartdata=' + cartdata\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 获取父组件的数据的默认展示数据\r\n\t\t\tskudata(newValue, oldValue) {\r\n\t\t\t\tthis.id = newValue[2].id\r\n\t\t\t\tthis.attribute = newValue[2]\r\n\t\t\t\tthis.title = newValue[2].title\r\n\t\t\t\tconsole.log(newValue)\r\n\t\t\t},\r\n\t\t\t// 是否选择了尺码，颜色\r\n\t\t\tskumen(newValue, oldValue) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tcolor,\r\n\t\t\t\t\tsize\r\n\t\t\t\t} = newValue\r\n\t\t\t\tif (color != '' && size != '') {\r\n\t\t\t\t\tthis.skuRequest({\r\n\t\t\t\t\t\tid: this.id,\r\n\t\t\t\t\t\tsize,\r\n\t\t\t\t\t\tcolor\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.padd {\r\n\t\tpadding: 15upx;\r\n\t\tmargin-bottom: 90rpx;\r\n\t}\r\n\r\n\t.Coupon-view text {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.commodity-view {\r\n\t\t/* background: #4CD964; */\r\n\t\theight: 200upx;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.commodity-left-img {\r\n\t\twidth: 200upx;\r\n\t\theight: 200upx;\r\n\t}\r\n\r\n\t.commodity-left-img image {\r\n\t\twidth: 200upx;\r\n\t\theight: 200upx;\r\n\t\tborder-radius: 10upx;\r\n\t}\r\n\r\n\t.commodity-zh {\r\n\t\tfont-size: 27upx;\r\n\t\tcolor: #3d4245;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.commodity-zh view:nth-child(1) {\r\n\t\tfont-size: 35upx;\r\n\t\tcolor: #fe0036;\r\n\t}\r\n\r\n\t.commodity-zh view {\r\n\t\tpadding-top: 10upx;\r\n\t\tpadding-left: 15upx;\r\n\t}\r\n\r\n\t.choice {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.choice text {\r\n\t\tpadding-right: 8upx;\r\n\t}\r\n\r\n\t.commodity-right-img {\r\n\t\twidth: 50upx;\r\n\t\theight: 50upx;\r\n\t}\r\n\r\n\t.commodity-right-img image {\r\n\t\twidth: 50upx;\r\n\t\theight: 50upx;\r\n\t}\r\n\r\n\t/* sku */\r\n\t.sku-view {\r\n\t\tmargin-top: 40upx;\r\n\t\tborder-bottom: 1px solid #e5e5e5;\r\n\t}\r\n\r\n\t.sku-title {\r\n\t\tfont-size: 30upx;\r\n\t\tcolor: #051b28;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 20upx;\r\n\t}\r\n\r\n\t.sku-mian image {\r\n\t\twidth: 45upx;\r\n\t\theight: 45upx;\r\n\t\tpadding-right: 17upx;\r\n\t}\r\n\r\n\t.sku-mian view {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 65upx;\r\n\t\tbackground: #f5f5f5;\r\n\t\tborder: 1rpx solid #f5f5f5;\r\n\t\tborder-radius: 20upx;\r\n\t\tpadding: 0 14upx;\r\n\t\tmargin-right: 30upx;\r\n\t\tmargin-bottom: 30upx;\r\n\t}\r\n\r\n\t.sku-mian {\r\n\t\tfont-size: 27upx;\r\n\t\tcolor: #051b28;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.sku-two view {\r\n\t\tpadding: 0 35upx;\r\n\t}\r\n\r\n\t/* 购买数量 */\r\n\t.sku-height {\r\n\t\theight: 120upx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.numes {\r\n\t\tmargin: 0 !important;\r\n\t}\r\n\r\n\t.sku-mums-gight {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.sku-mums-gight view {\r\n\t\tfont-size: 30upx;\r\n\t\tcolor: #051b28;\r\n\t\tfont-weight: bold;\r\n\t\tbackground: #f5f5f5;\r\n\t\tborder-radius: 10upx;\r\n\t\twidth: 90upx;\r\n\t\theight: 70upx;\r\n\t\tline-height: 70upx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.sku-mums-gight view:nth-child(2) {\r\n\t\tbackground: none !important;\r\n\t}\r\n\r\n\t.determine {\r\n\t\tz-index: 999;\r\n\t\tfont-size: 30upx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground: #fe0036;\r\n\t\theight: 90upx;\r\n\t\tline-height: 90upx;\r\n\t\ttext-align: center;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t}\r\n\r\n\t/* 选了颜色加上边框 */\r\n\t.active {\r\n\t\tborder: 1rpx solid red !important;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addtocart.vue?vue&type=style&index=0&id=2c68515e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addtocart.vue?vue&type=style&index=0&id=2c68515e&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608818614001\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}